<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <title>vue 学习 7 ( 列表渲染 )</title>
  <script src="./vue.js"></script>
</head>
<body>

  <!-- 重要 : 到注意事项这里了 -->

  <!-- v-for 指令可以将一个数组对应为一组元素 -->
  <!-- v-for 指令需要使用 item in items 形式的特殊语法 -->
  <!-- items 是源数据数组, item 是数组元素迭代的别名 -->

  <!-- 在 v-for 块中，我们拥有对父作用域属性的完全访问权限 ?? -->
  <div id="app">
    <ul>
      <li v-for="item in items">{{ item.msg }}</li>
    </ul>
  </div>
  <!-- v-for 还支持一个可选的第二个参数为当前项的索引 -->
  <div id="app-2">
    <ul>
      <li v-for="(item, index) in items">
        {{ parentMsg }} - {{ index }} - {{ item.msg }}
      </li>
      <!-- 可以使用 of 替代 in 作为分隔符 -->
      <li v-for="(item, index) of items">
        {{ chileMsg }} - {{ index + 1 }} - {{ item.msg }}
      </li>
    </ul>
  </div>
  <!-- 可以使用 v-for 对对象的属性进行迭代 -->
  <!-- 注意：在便利对象的时候，是按照 Object.keys() 的结果便利，但是不能保证他的结果在不同的 JavaScript 引擎下是一致的 -->
  <div id="v-for-object">
    <ul>
      <li v-for="value in object">{{ value }}</li>
      <!-- 可以提供第二个参数为键名 -->
      <li v-for="(value, key) in object">
        {{ key }} : {{ value }}
      </li>
      <!-- 可以提供第三个参数为索引 -->
      <li v-for="(value, key, index) in object">
        {{ index + 1 }} . {{ key }} : {{ value }}
      </li>
    </ul>
  </div>

  <!-- key 那一个小节没看明白 ?? -->
  <!-- !! 建议尽可能的使用 v-for 来提供 key -->

  <!-- Vue 包含一组观察数组的变异方法 ( push, pop, shift, unshift, splice, sort, reverse ) , 他们会触发视图更新 -->
  <!-- 非变异方法 (filter, concat, slice), 可以用来替换数组，也是很高效的 -->

  <script type="text/javascript">
    var app = new Vue({
      el: '#app',
      data: {
        items: [
          {msg: 'msg1'},
          {msg: 'msg2'},
          {msg: 'msg3'},
          {msg: 'msg4'}
        ]
      }
    });
    var app2 = new Vue({
      el: '#app-2',
      data: {
        parentMsg: 'Parent',
        chileMsg: 'Child',
        items: [
          {msg: 'msg1'},
          {msg: 'msg2'},
          {msg: 'msg3'},
          {msg: 'msg4'}
        ]
      }
    });
    var vForObj = new Vue({
      el: '#v-for-object',
      data: {
        object: {
          firstName: 'John',
          lastName: 'Doe',
          age: 30
        }
      }
    });
  </script>
</body>
</html>
